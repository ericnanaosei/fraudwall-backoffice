<!-- Loading animation -->
<ng-template #loadingReport>
  <p class="bg-blue-600 text-center mt-12 rounded-lg px-6 py-3 text-white animate-pulse">Loading.....</p>
</ng-template>

<!-- Search and Filter Section -->
<div class="container mx-auto md:flex flex-col justify-center text-center">
  <div class="flex justify-between mb-2 py-3 px-3">
    <div class="flex justify-center">
      <label for="search" class="text-[20px] px-3 py-1 font-semibold">Search Number:</label>
      <input type="text" class="rounded-sm px-2 w-[400px]" placeholder="Search Number">
    </div>
    <div>
      <button class="bg-violet-600 px-3 py-2 rounded-lg font-semibold text-white">Create Investigtation</button>
    </div>
  </div>

  <!-- Table -->
  <table lass=" container table-auto mx-auto">
    <thead>
      <tr class="bg-blue-500 text-gray-700 uppercase text-sm leading-normal text-start">
        <th class="py-3 px-6 text-left">Report ID</th>
        <th class="py-3 px-6 text-left">Suspect Number</th>
        <th class="py-3 px-6 text-left">Platform</th>
        <th class="py-3 px-6 text-left">Incident Date</th>
        <th class="py-3 px-6 text-left">Description</th>
        <th class="py-3 px-6 text-center">Actions</th>
      </tr>
    </thead>

    <!-- table body -->
    <tbody *ngIf="reportList != null; else loadingReport" class="text-gray-700 text-sm font-medium">
      <tr *ngFor="let report of reportList | paginate: {itemsPerPage: 3, currentPage: page, totalItems: totalCount}" 
        class="border-b border-gray-200 hover:bg-gray-100">
        <td class="py-3 px-6 text-left whitespace-nowrap">{{report.reportId}}</td>
        <td class="py-3 px-6 text-start whitespace-nowrap">{{report.suspectNumber}}</td>
        <td class="py-3 px-6 text-left whitespace-nowrap">{{report.platForm}}</td>
        <td class="py-3 px-6 text-left whitespace-nowrap">{{report.incidentDate}}</td>
        <td class="py-3 px-6 text-left whitespace-nowrap">{{report.description}}</td>
        <td class="py-3 px-6 text-start whitespace-nowrap flex justify-between hover:cursor-pointer" (click)="data=report.reportId">
          <div class="hover:text-2xl"><i class="fa solid fa-trash text-red-600"></i></div>
          <div class="hover:text-2xl" (click)="showPageModal()"><i class="fa solid fa-vial text-green-600"></i></div>
          <div class="hover:text-2xl"><i class="fa solid fa-database text-blue-600 hover"></i></div>
        </td>
      </tr>
    </tbody>
  </table>
  <pagination-controls (pageChange)="pageChangeEvent($event)"></pagination-controls>
</div>
<div>
  <app-modal *ngIf="showModal == true" 
  [showPageModalValue]="showModal" 
  (pageModalEvent)="closePageModal($event)"
  [title] = "modalTitle"
  >
    <form class="font-light">
      <div class="flex justify-center px-4 py-2">
        <label class="text-[15px] text-start font-normal" for="reportId">Report Id:</label>
        <input class="px-4 text-start text-[15px] rounded-sm ml-2 w-[600px]"
         type="text" placeholder="Report ID" value={{data}} disabled="true">
      </div>
    </form>
  </app-modal>
</div>